(this.webpackJsonpauth_form=this.webpackJsonpauth_form||[]).push([[0],{12:function(e,t,r){e.exports={wrapper:"Modal_wrapper__3fw5J",content:"Modal_content__14HNK",active:"Modal_active__Mdc55",close:"Modal_close__2_R0n",show:"Modal_show__1fxEs"}},19:function(e,t,r){e.exports={label:"Input_label__aXuyd",error:"Input_error__2fIXb"}},38:function(e,t,r){},65:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(15),c=r.n(a),s=(r(38),r(2)),i=r(3),o=r(7),l=r(12),u=r.n(l),j=r(11),b=r.n(j);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var O=n.createElement("path",{d:"M6.99941 5.58638L12.2929 0.292893C12.6834 -0.0976311 13.3166 -0.0976311 13.7071 0.292893C14.0976 0.683418 14.0976 1.31658 13.7071 1.70711L8.41346 7.00075L13.7045 12.293C14.095 12.6835 14.0949 13.3167 13.7043 13.7072C13.3138 14.0977 12.6806 14.0976 12.2901 13.707L6.99925 8.41496L1.70711 13.7071C1.31658 14.0976 0.683418 14.0976 0.292893 13.7071C-0.0976311 13.3166 -0.0976311 12.6834 0.292893 12.2929L5.58519 7.00059L0.292814 1.70703C-0.0976664 1.31646 -0.0975956 0.683295 0.292972 0.292814C0.68354 -0.0976664 1.31671 -0.0975956 1.70719 0.292972L6.99941 5.58638Z",fill:"#42526E"});function h(e,t){var r=e.title,a=e.titleId,c=d(e,["title","titleId"]);return n.createElement("svg",p({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,O)}var f=n.forwardRef(h),m=(r.p,r(1)),g=function(e){var t=e.children,r=e.active,n=e.setActive,a=function(){n(!1)};return Object(m.jsx)("div",{className:b()(u.a.wrapper,Object(o.a)({},u.a.show,r)),onClick:a,children:Object(m.jsxs)("div",{className:b()(u.a.content,Object(o.a)({},u.a.active,r)),onClick:function(e){return e.stopPropagation()},children:[Object(m.jsx)("span",{className:u.a.close,onClick:a,children:Object(m.jsx)(f,{})}),t]})})},x=r(19),v=r.n(x),w=function(e){var t=e.inputName,r=e.onChange,n=e.onBlur,a=e.placeholder,c=e.password,s=void 0!==c&&c,i=e.error;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("label",{htmlFor:t,className:v.a.label,children:[t,Object(m.jsx)("input",{type:s?"password":"text",name:t,onChange:r,onBlur:n,placeholder:a}),i&&Object(m.jsx)("p",{className:v.a.error,children:i})]})})},_=r(9),y=r.n(_),I=[{email:"admin",password:"admin"},{email:"user",password:"user"},{email:"qwe@mail.ru",password:"123456"}],S=function(e){var t=e.type,r=Object(s.g)(),a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],u=c[1],j=Object(n.useState)(""),p=Object(i.a)(j,2),d=p[0],O=p[1],h=Object(n.useState)(!1),f=Object(i.a)(h,2),g=f[0],x=f[1],v=Object(n.useState)(!1),_=Object(i.a)(v,2),S=_[0],C=_[1],E=Object(n.useState)("Email can not be empty"),L=Object(i.a)(E,2),N=L[0],B=L[1],F=Object(n.useState)("Password can not be empty"),U=Object(i.a)(F,2),k=U[0],A=U[1],T=Object(n.useState)(!1),M=Object(i.a)(T,2),P=M[0],R=M[1],J=Object(n.useState)(!1),K=Object(i.a)(J,2),q=K[0],V=K[1],X=Object(n.useState)(!1),z=Object(i.a)(X,2),D=z[0],G=z[1],H=Object(n.useState)(!1),W=Object(i.a)(H,2),Y=W[0],Z=W[1];Object(n.useEffect)((function(){R(!N&&!k)}),[N,k]);var $=function(e){switch(e.currentTarget.name){case"email":x(!0);break;case"password":C(!0)}};return Object(m.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),"signIn"===t)for(var n in I)I[n].email===l&&I[n].password===d?(V(!1),r("/registered")):V(!0);if("signUp"===t){for(var a in I)I[a].email===l&&I[a].password===d?G(!0):(Z(!0),G(!1));if(Y){var c={email:l,password:d};I.push(c),console.log(I),r("/registered")}}},children:[Object(m.jsx)("h2",{className:y.a.title,children:"signIn"===t?"Sign In":"Sign Up"}),Object(m.jsx)(w,{inputName:"email",placeholder:"Type email",onChange:function(e){u(e.currentTarget.value);/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(e.currentTarget.value).toLowerCase())?B(""):B("Invalid Email")},onBlur:$,error:g&&N&&N}),Object(m.jsx)(w,{inputName:"password",placeholder:"Type password",onChange:function(e){O(e.currentTarget.value),e.currentTarget.value.length<6?(A("Password must be > 4 char"),e.currentTarget.value||A("Password can not be empty")):A("")},password:!0,onBlur:$,error:S&&k&&k}),"signUp"===t&&Object(m.jsxs)("label",{htmlFor:"confirm",className:y.a.policy,children:[Object(m.jsx)("input",{type:"checkbox",id:"confirm",required:!0}),"Confirm policy"]}),Object(m.jsx)("button",{disabled:!P,type:"submit",className:b()(y.a.confirm,Object(o.a)({},y.a.signInBtn,"signIn"===t),Object(o.a)({},y.a.signUpBtn,"signUp"===t)),children:"signIn"===t?"Authorise":"Register"}),Object(m.jsxs)("div",{className:b()(y.a.singInErr,Object(o.a)({},y.a.show,q),Object(o.a)({},y.a.show,D)),children:["signIn"===t&&q&&Object(m.jsx)("p",{children:"Invalid login or password"}),"signUp"===t&&D&&Object(m.jsx)("p",{children:"User already exist"})]})]})},C=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),o=s[0],l=s[1],u=function(e){return function(){l(!0),a(e)}};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:u("signIn"),children:"Sing In"}),Object(m.jsx)("button",{onClick:u("signUp"),children:"Sing Up"})]}),Object(m.jsx)(g,{active:o,setActive:l,children:Object(m.jsx)(S,{type:r})})]})},E=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"For registered users"})})};var L,N=function(){return Object(m.jsxs)(s.d,{children:[Object(m.jsx)(s.b,{path:"/",element:Object(m.jsx)(C,{})}),Object(m.jsx)(s.b,{path:"*",element:Object(m.jsx)(s.a,{to:"/"})}),Object(m.jsx)(s.b,{path:"/registered",element:Object(m.jsx)(E,{})})]})},B=r(16),F=r(33),U=r(8),k=r(10),A=r(21),T=r.n(A),M=r(31),P=r(32),R=r.n(P),J=Object(k.b)("user/fetchAll",function(){var e=Object(M.a)(T.a.mark((function e(t,r){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("https://jsonplaceholder.typicode.com/users");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",r.rejectWithValue("Error with fetch"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),K=Object(k.c)({name:"user",initialState:{users:[],isLoading:!1,isError:""},reducers:{},extraReducers:(L={},Object(o.a)(L,J.fulfilled.type,(function(e,t){e.isLoading=!1,e.isError="",e.users=t.payload})),Object(o.a)(L,J.pending.type,(function(e){e.isLoading=!0})),Object(o.a)(L,J.rejected.type,(function(e,t){e.isLoading=!1,e.isError=t.payload})),L)}).reducer,q=Object(U.b)({userReducer:K}),V=Object(k.a)({reducer:q});c.a.render(Object(m.jsx)(F.a,{store:V,children:Object(m.jsx)(B.a,{children:Object(m.jsx)(N,{})})}),document.getElementById("root"))},9:function(e,t,r){e.exports={policy:"AuthForm_policy__VEYwz",title:"AuthForm_title__KJ1xn",confirm:"AuthForm_confirm__2gGtE",signInBtn:"AuthForm_signInBtn__2oslj",signUpBtn:"AuthForm_signUpBtn__1xqK9",singInErr:"AuthForm_singInErr__3r7fR",show:"AuthForm_show__1UKSr"}}},[[65,1,2]]]);
//# sourceMappingURL=main.d7c0a02a.chunk.js.map